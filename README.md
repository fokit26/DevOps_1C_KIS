# DevOps_1C_KIS
Курс по DevOps от кафедры КИС.

Работу выполнял: [Лойко Максим](https://t.me/fokit26)

Лектор и семинарист курса: Павел Ахтямов

## Задачи:

### 1. Docker Compose

Коллега на работе разрабатывал проект на работе. Однако, он уволился, и компания перешла в контейнеризированную среду.

Ваша цель - запустить проект по ссылке. Вам даны права Reporter, поэтому вам необходимо ветку task-docker-compose в Ваш репозиторий.

Что от вас ждет начальство?
+ Docker-образ приложения `backend` и запуск контейнера с `backend` через docker compose.
+ Запуск в docker compose Docker Container-а с базой данных. Важно: данные в базе данных должны храниться постоянно (в отдельном Volume-е)
+ Запуск сервиса `frontend` c использованием конфигурации **NGINX**. Из внешней сети контейнера сервис должен быть доступен на порту `8189`.
+ Должен быть успешный запрос к API через сервис `frontend`.
+ пробросить стилевые файлы (этим должен заниматься `frontend`). При успешном подключении вы увидите большие буквы по одному из URL.
+ Непоседливый разработчик забыл добавить тестовые данные в приложение. Для этого необходимо создать `init container`, который перед запуском сервисов backend и frontend будет заполнять базу данных 2 тестовыми пользователями:
```python
users = [
     User(login='pavel', email='a@gmail.com'),
     User(login='yura', email='b@gmail.com')
]
```
**Порядок запуска:**

- Инициализация базы данных должна стартовать перед запуском `backend`
- `frontend` должен стартовать после успешного запуска сервиса `backend` (в ином случае, `nginx` не запустится)

Моё решение находится в ветке: `task-docker-compose`

### 2. GitLab CI

Необходимо запустить CI для проекта, в котором поддерживается автоматический запуск тестов. В качестве примера можно использовать следующий шаблон.

Требуется создать:
- Стадию билда документации: надо создать `authors.txt` в котором написан автор коммита, этот файл должен доступен в артефактах.
- Стадию билда docker-образа: требуется сбилдить контейнер, и запушить в container registry. 
- Cтадию деплоя на dev-стенд: требуется обеспечить pull из container registry и развёртывание на отдельной виртуальной машине, с помощью Ansible-playbook-а.

Моё решение находится в ветке: `task-CI`

**Важно:**
- `.gitlab-ci.yml` - представляет собой набор инклудов осноных stage-ов, которые находятся в **отдельной группе DevOps**, с сабгруппой `Gitlab-CI`.
- файлы с сабгруппы лежат в корне ветки

### 3. Запуск сервисов

Необходимо взять ваш проект и мигрировать его запуск менеджерами запуска сервисов: выбираем systemd или supervisor

Ваш сервис должен:
- выдерживать падение через кучу 500-ых ошибок
- запускаться от пользователя, не являющегося суперпользователем
- хранить логи в виде logrotate

Моё решение находится в ветке: `task-systemd`

### 4. Настройка Terraform

Необходимо развернуть следующую структуру поверх Yandex Cloud или любого другого облачного провайдера через Terraform:
- 2 Web-приложения
- База данных
- API Gateway

Моё решение находится в ветке: `task-terraform`

### 5. Отчёт State of DevOps

Необходимо разобрать один из последних **State of Devops** (за 5 лет) и сделать презентацию по основным интересным аспектам.

- Выделите как минимум три интересных аспекта
- Выделите, почему именно вам они были интересны, и как вы их можете применять на практике

Моё решение находится по ссылке: [тут](https://docs.google.com/presentation/d/14CsGP56w8JhdBWT-4ODx7klzaU6ojuB5W1bFOFxB-TM/edit?usp=sharing)

### 6. Отчёт о технологиях

Это очное задание. Необходимо подготовить презентацию по технологии и выступить с ней на занятии курса. Список тем можно найти по ссылке: [тут](https://digital.ai/periodic-table-of-devops-tools)

Мой отчёт по HashiCorp Vault находится по ссылке: [тут](https://docs.google.com/presentation/d/1g8DBtw4Pk5alUfia0zh7jZsS5vuGoE9jsM39BvUG_2o/edit?usp=sharing)
